<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>üî• Fireproof</h1>
<p>Fireproof is a realtime database for today's interactive applications. It uses immutable data and distributed protocols
to offer a new kind of database that:</p>
<ul>
<li>can be embedded in any page or app, with a flexible data ownership model</li>
<li>scales without incurring developer costs, thanks to Filecoin</li>
<li>uses cryptographically verifiable protocols (what plants crave)</li>
</ul>
<p>Learn more about the concepts and architecture behind Fireproof <a href="https://hackmd.io/@j-chris/SyoE-Plpj">in our plan,</a> or jump to the <a href="#quick-start">quick start</a> for React and server-side examples.</p>
<h3>Status</h3>
<p>Fireproof is alpha software, you should only use it if you are planning to contribute. For now, <a href="https://main--lucky-naiad-5aa507.netlify.app/">check out our React TodoMVC implementation running in browser-local mode.</a> It demonstrates document persistence, index queries, and event subscriptions, and uses the <a href="https://github.com/jchris/fireproof/blob/main/examples/todomvc/src/hooks/useFireproof.js"><code>useFireproof()</code> React hook.</a></p>
<p><a href="https://github.com/jchris/fireproof/actions/workflows/test.yml"><img src="https://github.com/jchris/fireproof/actions/workflows/test.yml/badge.svg" alt="Test"></a>
<a href="https://standardjs.com"><img src="https://img.shields.io/badge/code_style-standard-brightgreen.svg" alt="JavaScript Style Guide"></a></p>
<h2>Usage</h2>
<pre class="prettyprint source lang-js"><code>import Fireproof from 'fireproof';

async function main() {
  const database = new Fireproof();
  const ok = await database.put({
    name: 'alice',
    age: 42
  });
  
  const doc = await database.get(ok.id);
  console.log(doc.name); // 'alice'
}

main();
</code></pre>
<h2>Features</h2>
<h3>Document Store</h3>
<p>A simple put, get, and delete interface for keeping track of all your JSON documents. Once your data is in Fireproof you can access it from any app or website. Fireproof document store uses MVCC versioning and Merkle clocks so you can always recover the version you are looking for.</p>
<pre class="prettyprint source lang-js"><code>const { id, ref } = await database.put({
    _id: 'three-thousand'
    name: 'Andr√©',
    age: 47
});
const doc = await database.get('three-thousand')
// {
//    _id  : 'three-thousand'
//    _ref : CID(bafy84...agfw7)
//    name : 'Andr√©',
//    age  : 47
// }
</code></pre>
<p>The <code>_ref</code> allows you to query a stable snapshot of that version of the database. Fireproof uses immutable data structures under the hood, so you can always rollback to old data. Files can be embedded anywhere in your document using IPFS links like <code>{&quot;/&quot;:&quot;bafybeih3e3zdiehbqfpxzpppxrb6kaaw4xkbqzyr2f5pwr5refq2te2ape&quot;}</code>, with API sugar coming soon.</p>
<h3>Flexible Indexes</h3>
<p>Fireproof indexes are defined by custom JavaScript functions that you write, allowing you to easily index and search your data in the way that works best for your application. Easily handle data variety and schema drift by normalizing any data to the desired index.</p>
<pre class="prettyprint source lang-js"><code>const index = new Index(database, function (doc, map) {
  map(doc.age, doc.name)
})
const { rows, ref } = await index.query({ range: [40, 52] })
// [ { key: 42, value: 'alice', id: 'a1s3b32a-3c3a-4b5e-9c1c-8c5c0c5c0c5c' },
//   { key: 47, value: 'Andr√©', id: 'three-thousand' } ]
</code></pre>
<h3>Realtime Updates</h3>
<p>Subscribe to query changes in your application, so your UI updates automatically. Use the supplied React hooks, our Redux connector, or simple function calls to be notified of relevant changes.</p>
<pre class="prettyprint source lang-js"><code>const listener = new Listener(database, function(doc, emit) {
  if (doc.type == 'member') {
    emit('member')
  }
})
listener.on('member', (id) => {
  const doc = await db.get(id)
  alert(`Member update ${doc.name}`)
})
</code></pre>
<h3>Self-soverign Identity</h3>
<p>Fireproof is so easy to integrate with any site or app because you can get started right away, and set up an account later. By default users write to their own database copy, so you can get pretty far before you even have to think about API keys. <a href="https://ucan.xyz">Authorization is via non-extractable keypair</a>, like TouchID / FaceID.</p>
<h3>Automatic Replication</h3>
<p>Documents changes are persisted to <a href="https://filecoin.io">Filecoin</a> via <a href="https://web3.storage">web3.storage</a>, and made available over [IPFS] and on a global content delivery network. All you need to do to sync state is send a link to the latest database head, and Fireproof will take care of the rest. <a href="#status">Learn how to enable replication.</a></p>
<h3>Cryptographic Proofs</h3>
<p>The <a href="https://ucan.xyz">UCAN protocol</a> verifably links Fireproof updates to authorized agents via cryptographic proof chains. These proofs are portable like bearer tokens, but because invocations are signed by end-user device keys, UCAN proofs don't need to be hidden to be secure, allowing for delegation of service capabilities across devices and parties. Additionally, Fireproof's Merkle clocks and hash trees are immutable and self-validating, making merging changes safe and efficient. Fireproof makes cryptographic proofs available for all of it's operations, making it an ideal verfiable document database for smart contracts and other applications running in trustless environments. <a href="https://purrfect-tracker-45c.notion.site/Data-Routing-23c37b269b4c4c3dacb60d0077113bcb">Proof chains provide performance benefits as well</a>, by allowing recipients to skip costly I/O operations and instead cryptographically verify that changes contain all of the required context.</p>
<h2>Limitations üí£</h2>
<h3>Security</h3>
<p>Until encryption support is enabled, all data written to Fireproof is public. There are no big hurdles for this feature but it's not ready yet.</p>
<h3>Persistence</h3>
<p>Currently Fireproof writes transactions and proofs to in-memory <a href="https://ipld.io/specs/transport/car/carv2/">CAR files</a> which are well suited for peer and cloud replication. Durability coming soon.</p>
<h3>Pre-beta Software</h3>
<p>While the underlying data structures and libraries Fireproof uses are trusted with billions of dollars worth of data, Fireproof started in February of 2023. Results may vary.</p>
<h2>Thanks üôè</h2>
<p>Fireproof is a synthesis of work done by people in the web community over the years. I couldn't even begin to name all the folks who made pivotal contributions. Without npm, React, and VS Code all this would have taken so much longer. Thanks to everyone who supported me getting into database development via Apache CouchDB, one of the original document databases. The distinguishing work on immutable datastructures comes from the years of consideration <a href="https://ipfs.tech">IPFS</a>, <a href="https://ipld.io">IPLD</a>, and the <a href="https://docs.filecoin.io">Filecoin APIs</a> have enjoyed.</p>
<p>Thanks to Alan Shaw and Mikeal Rogers without whom this project would have never got started. The core Merkle hash-tree clock is based on <a href="https://github.com/alanshaw/pail">Alan's Pail</a>, and you can see the repository history goes all the way back to work begun as a branch of that repo. Mikeal wrote <a href="https://github.com/mikeal/prolly-trees">the prolly trees implementation</a>.</p>
<h2>Quick Start</h2>
<p>Look in the <code>examples/</code> directory for projects using the database. It's not picky how you use it, but we want to provide convenient jumping off places. Think of the examples as great to fork when starting your next project.</p>
<p>If are adding Fireproof to an existing page, just install it and try some operations.</p>
<pre class="prettyprint source"><code>npm install @fireproof/core
</code></pre>
<p>In your <code>app.js</code> or <code>app.tsx</code> file:</p>
<pre class="prettyprint source"><code>import { Fireproof } from '@fireproof/core'
const fireproof = Fireproof.storage()
const ok = await fireproof.put({ hello: 'world' })
const doc = await fireproof.get(ok.id)
</code></pre>
<p>ü§´ I like to drop a <code>window.fireproof = fireproof</code> in there as a development aid.</p>
<h1>Contributing</h1>
<p>Feel free to join in. All welcome. <a href="https://github.com/jchris/fireproof/issues">Open an issue</a>!</p>
<h1>License</h1>
<p>Dual-licensed under <a href="https://github.com/jchris/fireproof/blob/main/LICENSE.md">MIT or Apache 2.0</a></p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="DbIndex.html">DbIndex</a></li><li><a href="Fireproof.html">Fireproof</a></li><li><a href="Listener.html">Listener</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Mon Mar 06 2023 13:57:57 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>